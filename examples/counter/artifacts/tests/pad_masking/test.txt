#[test]
fn test_pad_masking() {
    let increment = 7;
    let mask = (-8i32 as i64) as u64; // VM interpretation.
    let hex = 0xffff_ffff_ffff_fff8u64;
    let binary = 0b1111111111111111111111111111111111111111111111111111111111111000u64;
    assert_eq!(mask, hex);
    assert_eq!(mask, u64::MAX - 7u64);
    assert_eq!(mask, binary);
    assert_eq!(increment & mask, 0);
    assert_eq!((1 + increment) & mask, 8);
    assert_eq!((8 + increment) & mask, 8);
    assert_eq!((9 + increment) & mask, 16);
    assert_eq!((15 + increment) & mask, 16);
}